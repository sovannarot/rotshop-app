import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.BJfUAbRs.js";import{S as L,N as D,a as _}from"./navigation.ZwF5MwrR.js";/* empty css                             */import{i as w}from"./items.B38lRbsq.js";import{C as q}from"./CardPost.BLUuqCxh.js";const I=[{text:"Brightening/Scars",img:"",id:0,Kh:"ស្បែកភ្លឺ/កំចាត់ស្លាកស្នាម"},{text:"Broken Skin Barrier",img:"",id:1,Kh:"ស្បែកមុខខូចរបាំងការពារ"},{text:"Exfoliating Products",img:"",id:2,Kh:"ជម្រះកោសិកាចាស់ៗ"},{text:"Non-Comedogenic",img:"",id:3,Kh:"គ្មានជាតិស្ទះរន្ធរោម"}],O=({lang:a,id:i,userId:f,limit:g})=>{const j={title:"RotShop-App",text:"RotShop មានលក់ទំនិញនេះអាចចូលមើលបាន",url:`https://rotshop-app.vercel.app/${a}/Product/${i}`},v=async()=>{try{await navigator.share(j)}catch(t){console.log("error",t)}},s=w.find(t=>t.id===i||String(t.id)===String(i));if(!s)return e.jsxs("div",{className:"col-span-full h-[calc(100svh-428px)] text-center text-gray-500 py-8 text-xl flexcolc gap-2 khmer ",children:[e.jsx("img",{src:"https://cdn.openart.ai/uploads/image_2ek9qc8b_1751036174788_raw.jpg",alt:"notfound",loading:"lazy",decoding:"async",className:"w-[25vw] rounded-3xl"}),a==="En"?"Error Happened Try Again (404)":"មានភាពមិនប្រក្រតី ព្យាយាមម្តងទៀត (404)"]});const[b,y]=l.useState(0),[x,c]=l.useState(1),[N,k]=l.useState(s.showImg[0]),[o,S]=l.useState(s.volume[0].price),[p,C]=l.useState(s.volume[0].color[0].StockAmount),[n,E]=l.useState("Show"),[m,P]=l.useState(s.volume[0].color[0].En),[d,z]=l.useState(s.volume[0].color);l.useEffect(()=>{c(1),C(d.find(t=>t.En===m).StockAmount)},[o,m]);const h=w.filter(t=>t.Category.includes(s.Special)&&t.id!==s.id),B=h.length>0?h.slice(0,6).map((t,r)=>e.jsx(q,{item:t,mostSell:t.mostSell,lang:a},r)):e.jsxs("div",{className:"col-span-full h-auto text-center text-gray-500 py-8 text-xl flexcolc gap-2 khmer ",children:[e.jsx("img",{src:"https://cdn.openart.ai/uploads/image_2ek9qc8b_1751036174788_raw.jpg",alt:"notfound",loading:"lazy",decoding:"async",className:"w-[25vw] rounded-3xl"}),a==="En"?"Don't Have Similar Product":"គ្មានទំនិញដូចគ្នាទេ"]}),H=async()=>{g<7&&await fetch("/api/likelist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:f,productId:i})})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start justify-center h-auto w-[60vw] translate-x-[20vw] max-[500px]:translate-x-[5vw] max-[850px]:flex-col max-[500px]:w-[90vw] ",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center h-auto w-[50%] flex-wrap gap-2 mt-2 max-[850px]:w-full",children:[e.jsx("img",{src:N,loading:"lazy",decoding:"async",alt:"photo",className:"w-[25vw] max-[850px]:w-[40vw] max-[500px]:w-[60vw]"}),e.jsx(L,{slidesPerView:4,loop:!0,navigation:!0,modules:[D],className:"mySwiper w-[25vw] h-[88px] max-[850px]:w-full",children:(s.showImg||[]).map((t,r)=>e.jsx(_,{children:e.jsx("img",{src:t,loading:"lazy",decoding:"async",alt:`Product ${r+1}`,className:"h-full object-cover cursor-pointer "+(b===r?"border-1 border-blue-500 rounded":""),onClick:()=>{k(s.showImg[r]),y(r)}})},r))})]}),e.jsxs("div",{className:"h-auto w-[50%] flex justify-center items-start flex-col max-[850px]:w-full",children:[e.jsxs("div",{className:"flex justify-between items-center w-full h-auto gap-2",children:[e.jsx("h2",{className:"text-2xl w-[290px] text-start max-[850px]:text-[17px]",children:s.name}),e.jsxs("div",{className:"flex justify-between items-center gap-1 max-[500px]:gap-[2px]",children:[e.jsx("button",{className:"max-[500px]:scale-75",onClick:H,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart bg-[#283542] rounded-[10px] px-1 py-2",width:"40px",height:"40px",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428m0 0a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),e.jsx("button",{onClick:v,className:"max-[500px]:scale-75",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-share bg-[#283542] rounded-[10px] p-2 active:bg-[#56616d]",width:"40px",height:"40px",viewBox:"0 0 24 24",stroke:"white",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("circle",{cx:"6",cy:"12",r:"3"}),e.jsx("circle",{cx:"18",cy:"6",r:"3"}),e.jsx("circle",{cx:"18",cy:"18",r:"3"}),e.jsx("line",{x1:"8.7",y1:"10.7",x2:"15.3",y2:"7.3"}),e.jsx("line",{x1:"8.7",y1:"13.3",x2:"15.3",y2:"16.7"})]})})]})]}),e.jsxs("div",{className:"flex justify-between items-center w-full h-auto ",children:[e.jsx("a",{className:"text-gray-400 text-xl underline max-[850px]:text-[15px]",href:"/"+a+"/Brand/"+s.brand,children:a=="En"?"By ":"ដោយ​ "+s.brand}),e.jsxs("a",{className:"text-gray-400 text-xl underline flex justify-center items-center gap-1 max-[850px]:text-[15px]",href:"/"+a+"/Category/"+s.Special,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4h6v6H4zm10 0h6v6h-6zM4 14h6v6H4zm10 3a3 3 0 1 0 6 0a3 3 0 1 0-6 0"})})," ",s.Special]})]}),e.jsx("div",{className:"w-[30vw] h-auto flex flex-wrap justify-center items-center gap-1 m-1 border-gray-500 border-y-2 p-1 max-[850px]:w-full ",children:s.skin.map((t,r)=>e.jsxs("a",{className:"flex justify-center items-center gap-1 h-[30px] bg-[#283542] text-center text-white p-1 rounded-[10px]",href:"/"+a+"/Skin/"+t.replace(/\//g,"_").replace(/ /g,"+"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M6.5 10C7.3 10 8 9.3 8 8.5S7.3 7 6.5 7S5 7.7 5 8.5S5.7 10 6.5 10M9 6l7 7l-5 5l-7-7V6zm0-2H4c-1.1 0-2 .9-2 2v5c0 .6.2 1.1.6 1.4l7 7c.3.4.8.6 1.4.6s1.1-.2 1.4-.6l5-5c.4-.4.6-.9.6-1.4c0-.6-.2-1.1-.6-1.4l-7-7C10.1 4.2 9.6 4 9 4m4.5 1.7l1-1l6.9 6.9c.4.4.6.9.6 1.4s-.2 1.1-.6 1.4L16 19.8l-1-1l5.7-5.8z"})}),a==="En"?t:(()=>{const u=I.find(M=>M.text===t);return u?u.Kh:t})()]},r))}),e.jsx("div",{className:"w-[30vw] max-[850px]:w-full flex justify-center items-center flex-col gap-1 mt-1 border-b-2 border-gray-500 pb-1 ",children:s.volume.map((t,r)=>e.jsx("button",{className:"w-full rounded-2xl h-auto text-start p-[2px] border-1 border-gray-400 overflow-hidden whitespace-nowrap text-ellipsis hover:border-blue-500 active:border-2 active:border-blue-600",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},onClick:()=>{S(t.price),z(t.color)},children:t.text},r))}),e.jsxs("div",{className:"w-full h-[50px] text-center flexrowc",children:[o?.Promotion!==0?e.jsxs("h2",{className:"font-bold text-4xl text-red-600 text-start w-full h-[40px] flex items-center gap-1 max-[578px]:text-[17px]",children:[o?.Promotion?"$"+o?.Promotion:"",e.jsx("span",{className:"text-[15px] max-[578px]:text-[10px] text-gray-500 line-through",children:o?.Normal?"$"+o?.Normal:""})]}):e.jsxs("h2",{className:"font-bold text-4xl text-red-600 text-start w-full h-[40px] flex items-center gap-1 max-[578px]:text-[17px]",children:[o?.Normal?o?.Normal+"$":"",e.jsx("span",{className:"text-[15px] max-[578px]:text-[10px] text-gray-500 line-through"})]}),e.jsx("button",{className:x==1?"w-[50px] text-2xl rounded-[10%] aspect-square bg-[#283542] text-center text-white opacity-60":"w-[50px] text-2xl rounded-[10%] aspect-square bg-[#283542] text-center text-white",onClick:()=>x!==1?c(t=>t-1):null,children:"-"}),e.jsx("h2",{className:"text-3xl mx-5",children:x}),e.jsx("button",{className:x<p?"w-[50px] text-2xl rounded-[10%] aspect-square bg-[#283542] text-center text-white":"w-[50px] text-2xl rounded-[10%] aspect-square bg-[#283542] text-center text-white opacity-60",onClick:()=>x<p?c(t=>t+1):null,children:"+"})]}),e.jsxs("button",{className:"w-[20vw] h-[40px] bg-[#283542] rounded-3xl text-center flexrowc gap-1 text-blue-500 max-[630px]:w-[42vw]",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-shopping-cart",width:"1.4rem",height:"1.4rem",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("circle",{cx:"6",cy:"19",r:"2"}),e.jsx("circle",{cx:"17",cy:"19",r:"2"}),e.jsx("path",{d:"M17 17h-11v-14h-2"}),e.jsx("path",{d:"M6 5l14 1l-1 7h-13"})]})," ",a=="En"?"Add To Card":"ដាក់ចូលកន្ត្រក់"]}),e.jsx("select",{defaultValue:d[0].En,className:"select w-[20vw] h-[40px] bg-[#283542] rounded-3xl text-center gap-1 text-blue-500 max-[630px]:w-[42vw] mt-2 khmer",onChange:t=>{P(t.target.value)},children:d.map((t,r)=>e.jsx("option",{value:t.En,children:a=="En"?t.En:t.Kh},r))}),e.jsxs("div",{className:"flexcols w-full h-auto p-1 mt-2 pt-2 border-t-2 border-gray-400",children:[s.Description?.map(t=>t.map(r=>e.jsxs("div",{className:n=="Show"?"flex items-start justify-start gap-1 w-full h-[200px] bg-amber-600 overflow-hidden":"flex items-start justify-start gap-1 w-full h-auto bg-amber-600 overflow-hidden",children:[e.jsxs("h2",{className:"font-bold  text-black dark:text-white text-start text-[17px]",children:[r.title,":"]}),e.jsx("h2",{className:" text-black dark:text-white text-start text-[15px] ",children:r.text})]}))),s.Description?e.jsx("button",{className:"w-auto h-auto text-gray-500",onClick:()=>E(t=>t=="Show"?"Hide":"Show"),children:n}):null]})]})]}),e.jsx("div",{className:"divider divider-error w-[70vw] text-2xl translate-x-[15vw] font-bold khmer",children:a=="En"?"Similar Products":"ផលិតផលស្រដៀងគ្នា"}),e.jsx("div",{className:"grid grid-cols-6 gap-x-3 gap-y-4 w-[calc(100vw-40px)] mx-2 max-[1123px]:grid-cols-5 max-[938px]:grid-cols-4 max-[753px]:grid-cols-3 max-[520px]:grid-cols-2 mt-2.5 translate-y-3.5",children:B}),s.Description2?e.jsxs("div",{className:"flex items-start flex-col justify-start gap-1 w-full h-[200px] dark:bg-amber-500 overflow-hidden mt-5 p-4",children:[e.jsx("h2",{className:"font-bold  text-black dark:text-white text-start text-[22px]",children:"Description"}),s.Description2?.map(t=>t.map(r=>e.jsxs("div",{className:n=="Show"?"flex items-start justify-start gap-1 w-full h-[200px] bg-amber-600 overflow-hidden":"flex items-start justify-start gap-1 w-full h-auto bg-amber-600 overflow-hidden",children:[e.jsxs("h2",{className:"font-bold  text-black dark:text-white text-start text-[17px]",children:[r.title,":"]}),e.jsx("h2",{className:" text-black dark:text-white text-start text-[15px] ",children:r.text})]})))]}):null,e.jsx("div",{className:"w-screen h-[20px]"})]})};export{O as default};
